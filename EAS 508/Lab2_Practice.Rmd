---
title: "Lab2"
output:
  html_document: default
  pdf_document: default
df_print: paged
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Simple Linear Regression

Perform linear regressions on a dataset from a European Toyota car
dealer on the sales records of used cars (Toyota Corolla). We would like
to construct a reasonable linear regression model for the relationship
between the sales prices of used cars and various explanatory variables
(such as age, mileage, horsepower). We are interested to see what
factors affect the sales price of a used car and by how much.

Data Description

*Id* - ID number of each used car *Model* - Model name of each used car
*Price* - The price (in Euros) at which each used car was sold *Age* -
Age (in months) of each used car as of August 2004 *KM* - Accumulated
kilometers on odometer *HP* - Horsepower *Metallic* - Metallic color?
(Yes = 1, No = 0) *Automatic* - Automatic transmission? ( Yes = 1, No =
0) *CC* - Cylinder volume (in cubic centimeters) *Doors* - Number of
doors *Gears* - Number of gears *Weight* - Weight (in kilograms)

The data is in the file "UsedCars.csv". To read the data in `R`, save
the file in your working directory (make sure you have changed the
directory if different from the R working directory) and read the data
using the `R` function `read.csv()`.

```{r}
install.packages("ggpubr", repos = "https://cran.r-project.org")


# Import libraries
library(ggplot2)
## Warning: package ’ggplot2’ was built under R version 3.2 or newer
#library(ggpubr)
library(car)
#install.packages("ggpubr")
library(ggpubr)

```

Read data and show few rows of data.

```{r}
# Read in the data
data = read.csv("UsedCars.csv",sep = ",",header = TRUE)
# Show the first few rows of data
head(data, 3)
```

## Question 1: Exploratory Data Analysis

-   

    a.  Use a scatter plot to describe the relationship between Price
        and the Accumulated kilometers on odometer. Describe the general
        trend (direction and form). Include plots and R-code used.

```{r}
# Your code here...


```

-   

    b.  What is the value of the correlation coefficient between *Price*
        and *KM*? Please interpret the strength of the correlation based
        on the correlation coefficient.

```{r}
# Your code here...


```

-   

    c.  Based on this exploratory analysis, would you recommend a simple
        linear regression model for the relationship?

**Answer**

-   

    d.  Based on the analysis above, would you pursue a transformation
        of the data? *Do not transform the data.*

**Answer**




## Question 2: Fitting the Simple Linear Regression Model

Fit a linear regression model, named *model_1*, to evaluate the
relationship between performance and the maximum number of channels. *Do
not transform the data.* The function you should use in R is:

```{r}
# Your code here...


```

- a.  What are the model parameters and what are their estimates? 

**Answer**



- b.  Write down the estimated simple linear regression equation.

**Answer**





- c.  Interpret the estimated value of the $\beta_1$ parameter in the
    context of the problem.

**Answer**





- d.  Find a 95% confidence interval for the $\beta_1$ parameter. Is
    $\beta_1$ statistically significant at this level?
    
**Answer**

```{r}



```



- e.  Is $\beta_1$ statistically significantly negative at an
    $\alpha$-level of 0.01? What is the approximate p-value of this
    test?

**Answer**
```{r}



```


## Question 3: Checking the Assumptions of the Model

Create and interpret the following graphs with respect to the
assumptions of the linear regression model. In other words, comment on
whether there are any apparent departures from the assumptions of the
linear regression model. Make sure that you state the model assumptions
and assess each one. Each graph may be used to assess one or more model
assumptions.

- a.  Scatterplot of the data with *KM* on the x-axis and *Price* on the
    y-axis
    
 **Answer**    

```{r}
# Your code here...



```



- b.  Residual plot - a plot of the residuals, $\hat\epsilon_i$, versus
    the fitted values, $\hat{y}_i$
    
**Answer**

```{r}
# Your code here...



```


- c.  Histogram and q-q plot of the residuals

**Answer**

```{r}
# Your code here...



```



## Question 4: Improving the Fit

- a.  Use a Box-Cox transformation (`boxCox()`) in `car()` package or
    (`boxcox()`) in `MASS()` package to find the optimal $\lambda$ value
    rounded to the nearest half integer. What transformation of the
    response, if any, does it suggest to perform?


**Answer**
```{r}
# Your code here...


```

```{r}
# Find the optimal lambda


```


- b.  Create a linear regression model, named *model_2*, that uses the
    inverse transformed *Price* as the response, and the *KM* as the
    predictor.Hint: Use the inverse transformation Price\^(opt.lambda).

**Answer**
```{r}
# Your code here...



```

- c.  Compare the R-squared values of *model_1* and *model_2*. Did the
    transformation improve the explanatory power of the model?
    
**Answer**
```{r}



```



- d.  Similar to Question B3, assess and interpret all model assumptions
    of *model_2*. A model is considered a good fit if all assumptions
    hold. Based on your interpretation of the model assumptions, is
    *model_2* a good fit?

**Answer**

```{r}
# Your code here...



```


## Question 5: Prediction

Use the results from both model_1 and model_2 with a better fit to
discuss the effects of certain independent variables on the dependent
variable: Holding everything else equal, how much the sales price would
decrease if a car accumulated 10,000 more kilometers? What observations
can you make about the result in the context of the problem?

**Answer**

```{r}
# Your code here...



```


```{r}



```


